<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 5.5.3">
    <meta name="viewport" content="width=device-width, initial-scale=1"><title>Architecture</title> <link rel="stylesheet" href="/mb-architecture/markbind/css/bootstrap.min.css"> <link rel="stylesheet" href="/mb-architecture/markbind/fontawesome/css/all.min.css"> <link rel="stylesheet" href="/mb-architecture/markbind/glyphicons/css/bootstrap-glyphicons.min.css"><link rel="stylesheet" href="/mb-architecture/markbind/css/codeblock-dark.min.css"><link rel="stylesheet" href="/mb-architecture/markbind/css/markbind.min.css"><link rel="stylesheet" href="/mb-architecture/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/mb-architecture/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/mb-architecture/stylesheets/main.css">
</head>
<script>
  const baseUrl = '/mb-architecture'
</script>
<body >
<div id="app" data-server-rendered="true"><header sticky=""><div data-v-7c0fd418><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-7c0fd418><div class="container-fluid" data-v-7c0fd418><div class="navbar-left" data-v-7c0fd418><a href="/mb-architecture/index.html" title="Home" class="navbar-brand" data-v-7c0fd418><img src="/mb-architecture/assets/logo.png" height="70" data-v-7c0fd418></a></div> <div class="navbar-default" data-v-7c0fd418><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-7c0fd418> <li data-v-7c0fd418><a href="/mb-architecture/contents/architecture.html" class="nav-link" data-v-7c0fd418>Architecture</a></li> <li class="nav-link dropdown" data-v-99624572><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle nav-link" data-v-99624572>Components <span data-v-99624572></span></a> <ul class="dropdown-menu" data-v-99624572> <li data-v-99624572><a href="/mb-architecture/contents/mb_cli.html" class="dropdown-item" data-v-99624572>CLI</a></li> <li data-v-99624572><a href="/mb-architecture/contents/site_class.html" class="dropdown-item" data-v-99624572>Site</a></li></ul></li></ul></div> <ul class="navbar-nav navbar-right" data-v-7c0fd418><li data-v-7c0fd418><form class="navbar-form" data-v-7c0fd418><div class="dropdown" style="position:relative;" data-v-4f6e9aec><input data-bs-toggle="dropdown" type="text" placeholder="Search" autocomplete="off" value="" class="form-control" data-v-4f6e9aec> <div class="form-control placeholder-div-hidden" data-v-4f6e9aec>
      Search
    </div> <ul class="dropdown-menu search-dropdown-menu dropdown-menu-hidden dropdown-menu-end" data-v-4f6e9aec></ul></div></form></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-7c0fd418><!----> <!----></div></div></header> <div id="flex-body"><nav id="site-nav" data-v-e6005420><div class="site-nav-top" data-v-e6005420><div class="fw-bold mb-2" style="font-size:1.25rem;" data-v-e6005420>Contents</div></div> <div class="nav-component slim-scroll" data-v-e6005420><div class="site-nav-root"><ul class="site-nav-list site-nav-list-root" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/mb-architecture/index.html" data-v-e6005420>How does MarkBind Work üè†</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/mb-architecture/contents/architecture.html" data-v-e6005420>MarkBind Architecture</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/mb-architecture/contents/mb_cli.html" data-v-e6005420>Command Line Interface</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/mb-architecture/contents/site_class.html" data-v-e6005420>Site Class</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420>Topic 3 

<div class="site-nav-dropdown-btn-container" data-v-e6005420><i onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e6005420><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e6005420></span></i></div></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/mb-architecture/contents/topic3a.html" data-v-e6005420>Topic 3a</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e6005420><a href="/mb-architecture/contents/topic3b.html" data-v-e6005420>Topic 3b</a></div></li></ul></li> <!----></ul></div></div> <!----></nav> <div id="content-wrapper"><div data-v-ef898034><nav aria-label="breadcrumb" class="breadcrumb-divider" data-v-ef898034><ol class="breadcrumb" data-v-ef898034><li class="notlink breadcrumb-marker" data-v-ef898034>
        ‚Ä∫‚Ä∫¬†¬†
      </li> </ol></nav></div> <h1 id="architecture">Architecture<a href="#architecture" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <div class="lead mb-5"><p>This page provides an overview of the MarkBind's architecture.</p></div> <p><a href="/mb-architecture/diagrams/architecture.png" target="_self"><img src="/mb-architecture/diagrams/architecture.png" alt="MarkBind Architecture Diagram" class="img-fluid"></a></p> <p>The above diagram shows the key classes and <span data-mb-component-type="popover" tabindex="0" class="trigger"><!----><!----></span> in MarkBind. You may note the following from these:</p> <h3 id="key-classes">Key classes<a href="#key-classes" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>The 3 key classes representing different types of content are as follows:</p> <ol><li><code class="hljs inline no-lang">Page</code> ‚Äî a page, as specified by the user in their various site configuration <code class="hljs inline no-lang">glob</code> or <code class="hljs inline no-lang">src</code> properties. These are directly managed by the <code class="hljs inline no-lang">Site</code> instance.</li> <li><code class="hljs inline no-lang">Layout</code> ‚Äî a single layout file, as contained in the <code class="hljs inline no-lang">_markbind/layouts</code> folder, collectively managed by <code class="hljs inline no-lang">LayoutManager</code>.</li></ol> <div class="alert box-container seamless" data-v-474166ec><!----> <div class="header-and-body" data-v-474166ec><!----> <div class="box-body-wrapper" data-v-474166ec><div class="icon-wrapper  text-success" data-v-474166ec><i class="fas fa-lightbulb" data-v-474166ec></i></div> <div aria-hidden="true" class="vertical-divider alert-success" data-v-474166ec></div> <div class="contents" data-v-474166ec><p data-v-474166ec>Note that <code class="hljs inline no-lang" data-v-474166ec>Layout</code> instances do not generate any output files directly, but rather, they store intermediate processing results to be used in a <code class="hljs inline no-lang" data-v-474166ec>Page</code>.</p></div> <!----></div></div></div> <ol><li><code class="hljs inline no-lang">External</code> ‚Äî source files referenced in a <code class="hljs inline no-lang">Page</code>, <code class="hljs inline no-lang">Layout</code> or even another <code class="hljs inline no-lang">External</code> that result in a <span data-mb-component-type="tooltip" tabindex="0" class="trigger"><!----><!----></span> output file. These output files are loaded dynamically and on-demand in the browser. These instances are managed by a single <code class="hljs inline no-lang">ExternalManager</code> instance.</li></ol> <div class="alert box-container seamless" data-v-474166ec><!----> <div class="header-and-body" data-v-474166ec><!----> <div class="box-body-wrapper" data-v-474166ec><div class="icon-wrapper  text-info" data-v-474166ec><i class="fas fa-info" data-v-474166ec></i></div> <div aria-hidden="true" class="vertical-divider alert-info" data-v-474166ec></div> <div class="contents" data-v-474166ec><p data-v-474166ec>For example, the file referenced by a <code class="hljs inline no-lang" data-v-474166ec>&lt;panel src=&quot;xx.md&quot;&gt;</code> generates a separate <code class="hljs inline no-lang" data-v-474166ec>xx._include_.html</code>, which is requested and loaded only when the panel is expanded.</p></div> <!----></div></div></div> <h3 id="content-processing-flow">Content processing flow<a href="#content-processing-flow" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Every <code class="hljs inline no-lang">Page</code>, <code class="hljs inline no-lang">Layout</code> and <code class="hljs inline no-lang">External</code> follows the same overall content processing flow, that is:</p> <p><em>Nunjucks <span aria-hidden="true" class="fas fa-arrow-right"></span> Markdown <span aria-hidden="true" class="fas fa-arrow-right"></span> Html</em></p> <div class="alert box-container seamless" data-v-474166ec><!----> <div class="header-and-body" data-v-474166ec><!----> <div class="box-body-wrapper" data-v-474166ec><div class="icon-wrapper  text-info" data-v-474166ec><i class="fas fa-info" data-v-474166ec></i></div> <div aria-hidden="true" class="vertical-divider alert-info" data-v-474166ec></div> <div class="contents" data-v-474166ec><p data-v-474166ec>Note that generation of <code class="hljs inline no-lang" data-v-474166ec>External</code>s (e.g. <code class="hljs inline no-lang" data-v-474166ec>&lt;panel src=&quot;...&quot;&gt;</code>) <strong data-v-474166ec>do not fall within</strong> the content processing flow <span class="underline" data-v-474166ec>where they are <strong data-v-474166ec>referenced</strong></span>.
These are only flagged for generation, and then processed by <code class="hljs inline no-lang" data-v-474166ec>ExternalManager</code> <strong data-v-474166ec>after</strong>, in <strong data-v-474166ec>another</strong> similar content processing flow within an <code class="hljs inline no-lang" data-v-474166ec>External</code> instance.</p></div> <!----></div></div></div> <p><strong><strong>Rationale</strong></strong></p> <p>This simple three stage flow provides a simple, predictable content processing flow for the user, and removes several other development concerns:</p> <ol><li><p>As the templating language of choice, Nunjucks is always processed first, allowing its templating capabilities to be used to the full extent.
Its syntax is also the most compatible and independent of the other stages.</p></li> <li><p>Secondly, Markdown is <strong>rendered before HTML</strong>, which produces more HTML. This also allows core Markdown features (e.g. code blocks) and Markdown plugins with eccentric syntaxes to be used without having to patch the HTML parser.</p></li> <li><p>Having processed possibly conflicting Nunjucks and Markdown syntax, HTML is then processed last.</p></li></ol> <div class="clearfix"><span class="float-start"><a href="/index.html" class="btn btn-light"><span><span aria-hidden="true" class="far fa-arrow-alt-circle-left"></span> Home</span></a></span> <span class="float-end"><a href="/mb-architecture/contents/mb_cli.html" class="btn btn-light"><span> Command Line Interface <span aria-hidden="true" class="far fa-arrow-alt-circle-right"></span></span></a></span></div> <br></div> <nav id="page-nav" data-v-e6005420><div class="nav-component slim-scroll" data-v-e6005420></div> <!----></nav> <div aria-hidden="true" class="scroll-top-button fa-lg d-print-none" style="display:none;bottom:2%;right:2%;position:fixed;"><i class="fas fa-arrow-circle-up"></i></div></div> <footer><div class="text-center"><small>[Generated by <a href="https://markbind.org/">MarkBind 5.5.3</a>]</small></div></footer></div>
</body><script src="/mb-architecture/markbind/js/bootstrap-utility.min.js"></script>
<script src="/mb-architecture/markbind/js/polyfill.min.js"></script>
<script src="/mb-architecture/markbind/js/vue.min.js"></script>
<script src="/mb-architecture/markbind/js/markbind.min.js"></script>
<script src="architecture.page-vue-render.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
</html>
